<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æŠ½é¸å¿œå‹Ÿã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ | Nintendo Switch 2</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', 'Hiragino Sans', 'Yu Gothic UI', sans-serif;
      background: linear-gradient(135deg, #fafafa 0%, #f0f2f5 100%);
      color: #333;
      line-height: 1.5;
      padding: 20px 2px;
      position: relative;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="0.5" fill="rgba(74,85,104,0.03)"/><circle cx="80" cy="20" r="0.3" fill="rgba(74,85,104,0.03)"/><circle cx="50" cy="50" r="0.4" fill="rgba(74,85,104,0.03)"/><circle cx="30" cy="80" r="0.3" fill="rgba(74,85,104,0.03)"/><circle cx="70" cy="70" r="0.5" fill="rgba(74,85,104,0.03)"/></svg>');
      animation: float 30s infinite linear;
      z-index: 0;
      pointer-events: none;
    }

    @keyframes float {
      0% { transform: translateX(-50px) translateY(-50px); }
      100% { transform: translateX(50px) translateY(50px); }
    }

    .container {
      max-width: 1600px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12);
      overflow: hidden;
      position: relative;
      z-index: 1;
      animation: slideUp 0.6s ease-out;
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .header {
      background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
      color: white;
      padding: 24px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .header::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      animation: shine 3s infinite;
    }

    @keyframes shine {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    h1 {
      font-size: 1.9rem;
      font-weight: 600;
      margin-bottom: 8px;
      position: relative;
      z-index: 1;
    }

    .subtitle {
      font-size: 0.95rem;
      opacity: 0.95;
      margin-bottom: 4px;
      position: relative;
      z-index: 1;
    }

    .update-note {
      font-size: 0.85rem;
      opacity: 0.85;
      background: rgba(255,255,255,0.15);
      padding: 8px 16px;
      border-radius: 4px;
      display: inline-block;
      margin-top: 8px;
      position: relative;
      z-index: 1;
    }

    .search-section {
      padding: 16px 24px;
      background: #f8f9fa;
      border-bottom: 1px solid #e9ecef;
    }

    .search-box {
      display: flex;
      gap: 12px;
      align-items: center;
      justify-content: center;
    }

    .search-input {
      padding: 8px 16px;
      border: 1px solid #dee2e6;
      border-radius: 4px;
      font-size: 0.9rem;
      width: 300px;
      transition: all 0.3s ease;
      background: white;
    }

    .search-input:focus {
      outline: none;
      border-color: #495057;
      box-shadow: 0 0 0 2px rgba(73, 80, 87, 0.1);
    }

    .filter-section {
      padding: 16px 24px;
      background: #f8f9fa;
      border-bottom: 1px solid #e9ecef;
    }

    .filter-controls {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      align-items: center;
      justify-content: center;
    }

    .filter-buttons {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .filter-btn {
      padding: 8px 16px;
      border: 1px solid #dee2e6;
      background: white;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.9rem;
      color: #495057;
      position: relative;
      overflow: hidden;
    }

    .filter-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(73, 80, 87, 0.1), transparent);
      transition: left 0.4s;
    }

    .filter-btn:hover::before {
      left: 100%;
    }

    .filter-btn.active {
      background: #495057;
      color: white;
      border-color: #495057;
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(73, 80, 87, 0.2);
    }

    .filter-btn:hover {
      background: #e9ecef;
      transform: translateY(-1px);
    }

    .filter-btn.active:hover {
      background: #495057;
    }

    .table-container {
      overflow-x: auto;
      padding: 0;
      position: relative;
    }

    .scroll-indicator-top,
    .scroll-indicator-bottom {
      display: none;
      height: 8px;
      background: linear-gradient(90deg, #dee2e6, #6c757d, #dee2e6);
      border-radius: 4px;
      margin: 0 10px;
      opacity: 0.7;
    }

    .scroll-indicator-top {
      margin-bottom: 5px;
    }

    .scroll-indicator-bottom {
      margin-top: 5px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
      border-spacing: 0;
    }

    th {
      background: #f8f9fa;
      color: #495057;
      padding: 16px 10px;
      font-weight: 600;
      text-align: left;
      border-bottom: 2px solid #dee2e6;
      white-space: nowrap;
      vertical-align: middle;
      position: relative;
      cursor: pointer;
      user-select: none;
      transition: all 0.2s ease;
    }

    th:hover {
      background: #e9ecef;
    }

    th.sortable::after {
      content: ' â‡…';
      color: #6c757d;
      font-size: 0.8em;
      margin-left: 4px;
    }

    th.sort-asc::after {
      content: ' â†‘';
      color: #495057;
      font-weight: bold;
    }

    th.sort-desc::after {
      content: ' â†“';
      color: #495057;
      font-weight: bold;
    }

    th::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background: #495057;
      transition: width 0.3s ease;
    }

    th:hover::before {
      width: 100%;
    }

    td {
      padding: 12px 10px !important;
      border-bottom: 1px solid #f1f3f4;
      vertical-align: middle;
      text-align: left;
      transition: all 0.2s ease;
    }

    td:nth-child(3),
    td:nth-child(4) {
      white-space: nowrap;
    }

    tr:hover {
      background: #f8f9fa;
      transform: scale(1.001);
    }

    .urgent {
      background: linear-gradient(90deg, #fff5f5, #ffffff);
      border-left: 3px solid #dc3545;
      animation: urgentPulse 2s infinite;
    }

    @keyframes urgentPulse {
      0%, 100% { border-left-color: #dc3545; }
      50% { border-left-color: #ff6b7a; }
    }

    .today-ending {
      background: linear-gradient(90deg, #fff3cd, #ffffff);
      border-left: 3px solid #ffc107;
    }

    .very-urgent {
      background: linear-gradient(90deg, #ffe6e6, #ffffff);
      border-left: 3px solid #ff0000;
      animation: veryUrgentPulse 1s infinite;
    }

    @keyframes veryUrgentPulse {
      0%, 100% { 
        border-left-color: #ff0000;
        box-shadow: inset 0 0 5px rgba(255, 0, 0, 0.1);
      }
      50% { 
        border-left-color: #ff4444;
        box-shadow: inset 0 0 10px rgba(255, 0, 0, 0.2);
      }
    }

    .store-name {
      font-weight: 600;
      color: #2d3748;
      font-size: 14px;
    }

    .store-type {
      font-size: 11px;
      color: #6c757d;
      margin-top: 2px;
    }

    .status {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 11px;
      font-weight: 500;
      text-align: center;
      min-width: 65px;
    }

    .status-active {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
      animation: glow 2s infinite;
    }

    @keyframes glow {
      0%, 100% { box-shadow: 0 0 5px rgba(21, 87, 36, 0.3); }
      50% { box-shadow: 0 0 20px rgba(21, 87, 36, 0.6); }
    }

    .status-upcoming {
      background: #fff3cd;
      color: #856404;
      border: 1px solid #ffeaa7;
    }

    .status-ended {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f1b0b7;
    }

    .status-ongoing {
      background: #cce5ff;
      color: #0056b3;
      border: 1px solid #99d3ff;
    }

    .status-waiting {
      background: #fff3cd;
      color: #856404;
      border: 1px solid #ffeaa7;
    }

    .status-purchase {
      background: #e1f5fe;
      color: #01579b;
      border: 1px solid #b3e5fc;
    }

    .model {
      background: #e9ecef;
      color: #495057;
      padding: 3px 6px;
      border-radius: 4px;
      font-size: 11px;
      display: inline-block;
      margin: 1px;
      transition: all 0.2s ease;
    }

    .model:hover {
      background: #dee2e6;
      transform: scale(1.05);
    }

    .period {
      font-weight: 500;
      color: #495057;
      font-size: 12px;
    }

    .condition {
      font-size: 12px;
      color: #6c757d;
      line-height: 1.4;
    }

    .result, .deadline {
      font-size: 12px;
      color: #495057;
    }

    .link-btn {
      background: #495057;
      color: white;
      padding: 5px 10px;
      border-radius: 4px;
      text-decoration: none;
      font-size: 11px;
      font-weight: 500;
      transition: all 0.3s ease;
      display: inline-block;
      position: relative;
      overflow: hidden;
    }

    .link-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.4s;
    }

    .link-btn:hover::before {
      left: 100%;
    }

    .link-btn:hover {
      background: #343a40;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(52, 58, 64, 0.3);
    }

    .stats {
      display: flex;
      justify-content: center;
      gap: 32px;
      padding: 16px;
      background: #f8f9fa;
      border-top: 1px solid #e9ecef;
      font-size: 14px;
    }

    .stat-item {
      text-align: center;
      transition: transform 0.2s ease;
    }

    .stat-item:hover {
      transform: translateY(-2px);
    }

    .stat-number {
      font-size: 18px;
      font-weight: 600;
      color: #495057;
    }

    .stat-label {
      color: #6c757d;
      font-size: 12px;
      margin-top: 2px;
    }

    .section-header {
      background: #e9ecef;
      padding: 8px 16px;
      font-weight: 600;
      color: #495057;
      font-size: 13px;
      border-top: 2px solid #dee2e6;
    }

    .section-header td {
      border-bottom: 1px solid #dee2e6;
    }

    .countdown {
      font-size: 10px;
      color: #dc3545;
      font-weight: 600;
      margin-top: 2px;
    }

    .countdown.very-urgent {
      color: #ff0000;
      animation: countdownBlink 1s infinite;
    }

    @keyframes countdownBlink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0.5; }
    }

    .no-results {
      text-align: center;
      padding: 40px;
      color: #6c757d;
      font-size: 1rem;
    }

    @media (max-width: 1200px) {
      .condition {
        font-size: 10px;
      }
      
      .search-input {
        width: 250px;
      }

      .filter-controls {
        flex-direction: column;
        gap: 12px;
      }
    }

    @media (max-width: 768px) {
      .container {
        margin: 0 2px;
      }
      
      .header {
        padding: 16px;
      }
      
      h1 {
        font-size: 1.4rem;
      }
      
      th, td {
        padding: 8px 6px;
        font-size: 11px;
      }
      
      .filter-section, .search-section {
        padding: 12px 16px;
      }
      
      .search-input {
        width: 200px;
        font-size: 0.85rem;
      }
      
      .stats {
        gap: 20px;
        padding: 12px;
      }
      
      .condition {
        font-size: 9px;
      }

      .scroll-indicator-top,
      .scroll-indicator-bottom {
        display: block;
        animation: scrollHint 2s infinite ease-in-out;
      }

      .filter-controls {
        flex-direction: column;
        gap: 8px;
      }
    }

    @keyframes scrollHint {
      0%, 100% { opacity: 0.4; transform: scaleX(1); }
      50% { opacity: 0.8; transform: scaleX(1.1); }
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>æŠ½é¸å¿œå‹Ÿã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ | Nintendo Switch 2 å®Œå…¨æ”»ç•¥</h1>
      <div class="subtitle">å…¨å›½ã®æŠ½é¸æƒ…å ±ã‚’ç¶²ç¾…ãƒ»åˆ†æã™ã‚‹å°‚é–€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ | 2025å¹´6æœˆ9æ—¥ç¾åœ¨</div>
      <div class="update-note">ğŸ® æŠ½é¸å¿œå‹Ÿã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ | ğŸ“… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–° | ğŸ”„ å…¨å›½ç‰ˆãƒ»åœ°åŸŸé™å®šç‰ˆå®Œå…¨å¯¾å¿œ | âœ… 6/9èª¿æŸ»å®Œäº† | âš ï¸ æœ¬æ—¥ç· åˆ‡å¤šæ•° | ğŸ”„ ã‚«ãƒ©ãƒ ã‚½ãƒ¼ãƒˆå¯¾å¿œ</div>
    </div>

    <div class="search-section">
      <div class="search-box">
        <input type="text" class="search-input" placeholder="åº—èˆ—åã§æ¤œç´¢..." id="searchInput">
      </div>
    </div>

    <div class="filter-section">
      <div class="filter-controls">
        <div class="filter-buttons">
          <button class="filter-btn active" onclick="filterRows('all')">ã™ã¹ã¦è¡¨ç¤º</button>
          <button class="filter-btn" onclick="filterRows('active')">å—ä»˜ä¸­</button>
          <button class="filter-btn" onclick="filterRows('upcoming')">é–‹å§‹äºˆå®š</button>
          <button class="filter-btn" onclick="filterRows('ongoing')">å®Ÿæ–½ä¸­</button>
          <button class="filter-btn" onclick="filterRows('waiting')">ç™ºè¡¨å¾…ã¡</button>
          <button class="filter-btn" onclick="filterRows('purchase')">è³¼å…¥æœŸé–“ä¸­</button>
          <button class="filter-btn" onclick="filterRows('ended')">çµ‚äº†æ¸ˆã¿</button>
        </div>
      </div>
    </div>

    <div class="table-container">
      <div class="scroll-indicator-top"></div>
      <table>
        <thead>
          <tr>
            <th>åº—èˆ—å</th>
            <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
            <th>å¿œå‹Ÿ</th>
            <th class="sortable" onclick="sortByColumn('deadline')" data-sort="deadline">å—ä»˜æœŸé–“</th>
            <th>å¿œå‹Ÿæ¡ä»¶</th>
            <th class="sortable" onclick="sortByColumn('result')" data-sort="result">çµæœç™ºè¡¨</th>
            <th class="sortable" onclick="sortByColumn('purchase')" data-sort="purchase">è³¼å…¥æœŸé™</th>
          </tr>
        </thead>
        <tbody id="tableBody">
          <!-- ãƒ‡ãƒ¼ã‚¿ã¯ JavaScript ã§å‹•çš„ã«ç”Ÿæˆ -->
        </tbody>
      </table>
      <div class="scroll-indicator-bottom"></div>
      <div id="noResults" class="no-results hidden">
        æ¤œç´¢æ¡ä»¶ã«ä¸€è‡´ã™ã‚‹åº—èˆ—ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚
      </div>
    </div>

    <div class="stats">
      <div class="stat-item">
        <div class="stat-number" id="stat-active">6</div>
        <div class="stat-label">å—ä»˜ä¸­</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" id="stat-upcoming">1</div>
        <div class="stat-label">é–‹å§‹äºˆå®š</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" id="stat-ongoing">2</div>
        <div class="stat-label">å®Ÿæ–½ä¸­</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" id="stat-waiting">4</div>
        <div class="stat-label">ç™ºè¡¨å¾…ã¡</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" id="stat-purchase">6</div>
        <div class="stat-label">è³¼å…¥æœŸé–“ä¸­</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" id="stat-ended">0</div>
        <div class="stat-label">çµ‚äº†æ¸ˆã¿</div>
      </div>
    </div>

  </div>

  <script>
    // å‹•çš„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨ˆç®—é–¢æ•°
    function calculateStatus(item) {
      const now = new Date();
      
      // å¿œå‹ŸæœŸé–“ä¸­ã‹ãƒã‚§ãƒƒã‚¯
      if (item.startDate && item.endDate) {
        if (now >= item.startDate && now <= item.endDate) {
          return 'active';
        }
        if (now < item.startDate) {
          return 'upcoming';
        }
      }
      
      // çµæœç™ºè¡¨å¾…ã¡ã‹ãƒã‚§ãƒƒã‚¯
      if (item.endDate && item.resultDate) {
        if (now > item.endDate && now < item.resultDate) {
          return 'waiting';
        }
      }
      
      // è³¼å…¥æœŸé–“ä¸­ã‹ãƒã‚§ãƒƒã‚¯
      if (item.resultDate && item.purchaseDate) {
        if (now >= item.resultDate && now <= item.purchaseDate) {
          return 'purchase';
        }
      }
      
      // æ‹›å¾…åˆ¶ãƒ»å®Ÿæ–½ä¸­ã®å ´åˆ
      if (item.isOngoing) {
        return 'ongoing';
      }
      
      // æœŸé™åˆ‡ã‚Œã‹ãƒã‚§ãƒƒã‚¯
      if (item.purchaseDate && now > item.purchaseDate) {
        return 'ended';
      }
      if (item.endDate && now > item.endDate && !item.resultDate) {
        return 'ended';
      }
      
      return 'ended';
    }

    // ãƒ‡ãƒ¼ã‚¿å®šç¾©
    const storeData = [
      // å…¨å›½ç‰ˆ
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'ãƒã‚¤ãƒ‹ãƒ³ãƒ†ãƒ³ãƒ‰ãƒ¼ã‚¹ãƒˆã‚¢',
        storeType: 'ä»»å¤©å ‚å…¬å¼ ç¬¬4å›',
        link: 'https://store-jp.nintendo.com/',
        period: '6/3 12:15ã€œ6/11 11:00',
        startDate: new Date('2025-06-03T12:15:00'),
        endDate: new Date('2025-06-11T11:00:00'),
        condition: 'ç¬¬3å›è½é¸è€…ã¯è‡ªå‹•å¼•ç¶™ãã€‚Nintendo Switchã‚½ãƒ•ãƒˆ50æ™‚é–“ä»¥ä¸Šãƒ—ãƒ¬ã‚¤(2/28æ™‚ç‚¹)ï¼‹Nintendo Switch Onlineç´¯ç©1å¹´ä»¥ä¸ŠåŠ å…¥ï¼‹ç¾åœ¨ã‚‚åŠ å…¥ä¸­',
        result: '6/17ï¼ˆç«ï¼‰åˆå¾Œä»¥é™',
        resultDate: new Date('2025-06-17T15:00:00'),
        deadline: 'ã€œ7/4ï¼ˆé‡‘ï¼‰ã¾ã§',
        purchaseDate: new Date('2025-07-04T23:59:00'),
        countdownId: 'countdown-1'
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'ã‚»ãƒ–ãƒ³ãƒãƒƒãƒˆ',
        storeType: 'ã‚³ãƒ³ãƒ“ãƒ‹ç³»EC ç¬¬2å›',
        link: 'https://7net.omni7.jp/general/027003/250530switch2',
        period: '5/30 15:00ã€œ6/11 15:00',
        startDate: new Date('2025-05-30T15:00:00'),
        endDate: new Date('2025-06-11T15:00:00'),
        condition: '2024/5/30ã€œ2025/6/11æœŸé–“ä¸­ã«ç¨æŠœ1,000å††ä»¥ä¸Šè³¼å…¥å±¥æ­´(é›»å­æ›¸ç±é™¤ã)ï¼‹2025/6/15ã¾ã§ã«å•†å“å—å–å®Œäº†ï¼‹ãƒ¡ãƒ«ãƒã‚¬å—ä¿¡è¨­å®š',
        result: '6/20ï¼ˆæœ¨ï¼‰19:00ã¾ã§',
        resultDate: new Date('2025-06-20T19:00:00'),
        deadline: '7æœˆä¸Šæ—¬ã‚ˆã‚Šé †æ¬¡ãŠå±Šã‘',
        purchaseDate: new Date('2025-07-10T23:59:00'),
        countdownId: 'countdown-2'
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'ãƒ¨ãƒ‰ãƒã‚·ã‚«ãƒ¡ãƒ©',
        storeType: 'å®¶é›»é‡è²©åº— ç¬¬2å› æœ¬æ—¥ç· åˆ‡',
        link: 'https://www.yodobashi.com/',
        period: '6/6 11:00ã€œ6/9 10:59',
        startDate: new Date('2025-06-06T11:00:00'),
        endDate: new Date('2025-06-09T10:59:00'),
        condition: '2024/5/1ã€œ2025/4/30æœŸé–“ä¸­ã«ãƒ¨ãƒ‰ãƒã‚·ãƒ»ãƒ‰ãƒƒãƒˆãƒ»ã‚³ãƒ ã¾ãŸã¯åº—èˆ—ã§ç´¯è¨ˆ50,000å††ä»¥ä¸Šè³¼å…¥å±¥æ­´ã€‚ã‚´ãƒ¼ãƒ«ãƒ‰ãƒ»ãƒã‚¤ãƒ³ãƒˆã‚«ãƒ¼ãƒ‰ãƒ»ãƒ—ãƒ©ã‚¹ã®ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆæ±ºæ¸ˆã§å½“é¸ç‡å„ªé‡',
        result: '6/10ï¼ˆæœˆï¼‰10:00äºˆå®š',
        resultDate: new Date('2025-06-10T10:00:00'),
        deadline: '6/13ï¼ˆé‡‘ï¼‰23:59ã¾ã§',
        purchaseDate: new Date('2025-06-13T23:59:00'),
        countdownId: 'countdown-3'
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'æ¥½å¤©ãƒ–ãƒƒã‚¯ã‚¹',
        storeType: 'ECå¤§æ‰‹ ç¬¬3å› æœ¬æ—¥ç· åˆ‡',
        link: 'https://books.rakuten.co.jp/',
        period: '6/4 12:00ã€œ6/9 11:59',
        startDate: new Date('2025-06-04T12:00:00'),
        endDate: new Date('2025-06-09T11:59:00'),
        condition: 'æ¥½å¤©ä¼šå“¡ï¼‹2024/6/3ã€œ2025/6/3æœŸé–“ã®æ¥½å¤©ãƒ–ãƒƒã‚¯ã‚¹è³¼å…¥ãƒ»ç™ºé€å±¥æ­´(æ¥½å¤©Koboãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å•†å“é™¤ã)ã€‚éå»Nintendo Switch 2å½“é¸è€…ã¯å¯¾è±¡å¤–ã€‚1å•†å“1å›ãƒ»1ä¸–å¸¯1åé™ã‚Š',
        result: '6/20ï¼ˆæœ¨ï¼‰é ƒ',
        resultDate: new Date('2025-06-20T12:00:00'),
        deadline: 'å½“é¸é€šçŸ¥å¾Œæ¡ˆå†…',
        purchaseDate: null,
        countdownId: 'countdown-7'
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'ã‚²ã‚ª',
        storeType: 'ã‚¨ãƒ³ã‚¿ãƒ¡åº— ç¬¬2å› æœ¬æ—¥ç· åˆ‡',
        link: 'https://geo-online.co.jp/',
        period: '5/28 11:00ã€œ6/9 17:59',
        startDate: new Date('2025-05-28T11:00:00'),
        endDate: new Date('2025-06-09T17:59:00'),
        condition: 'ã‚²ã‚ªã‚¢ãƒ—ãƒªã¨æŠ½é¸åº—èˆ—ãƒ¬ãƒ³ã‚¿ãƒ«ä¼šå“¡æ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸPontaã‚«ãƒ¼ãƒ‰ã®é€£æºãŒå¿…è¦ã€‚å‰å›è½é¸è€…ã‚’å„ªå…ˆ',
        result: '6/13ï¼ˆé‡‘ï¼‰ç™ºè¡¨',
        resultDate: new Date('2025-06-13T12:00:00'),
        deadline: '6/14ã€œ4æ—¥é–“ä»¥å†…',
        purchaseDate: new Date('2025-06-17T23:59:00'),
        countdownId: 'countdown-5'
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'ãƒˆã‚¤ã‚¶ã‚‰ã‚¹',
        storeType: 'ç©å…·å°‚é–€åº— ç¬¬3å› æœ¬æ—¥ç· åˆ‡',
        link: 'https://www.toysrus.co.jp/',
        period: 'åº—èˆ—ã«ã‚ˆã‚Šç•°ãªã‚‹ã€œ6/9',
        startDate: new Date('2025-05-20T10:00:00'),
        endDate: new Date('2025-06-09T23:59:00'),
        condition: '2024/11/23ã€œ2025/5/22æœŸé–“ã«ç¨è¾¼3,000å††ä»¥ä¸Šè³¼å…¥å®Ÿç¸¾ï¼‹ã‚¹ã‚¿ãƒ¼ã‚«ãƒ¼ãƒ‰ã«ãŠå®¢æ§˜æƒ…å ±ç™»éŒ²ï¼‹å—å–æ™‚é¡”å†™çœŸä»˜ãå…¬çš„èº«åˆ†è¨¼æ˜æ›¸æç¤ºã€‚åº—é ­QRã‚³ãƒ¼ãƒ‰ã§ã®ã¿å¿œå‹Ÿå¯èƒ½',
        result: '6/20ï¼ˆæœ¨ï¼‰é ƒ',
        resultDate: new Date('2025-06-20T12:00:00'),
        deadline: 'å½“é¸é€šçŸ¥å¾Œæ¡ˆå†…',
        purchaseDate: null,
        countdownId: 'countdown-6'
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'Amazon',
        storeType: 'ECå¤§æ‰‹ æ‹›å¾…åˆ¶',
        link: 'https://www.amazon.co.jp/',
        period: '4/24ã€œï¼ˆæ‹›å¾…åˆ¶ç¶™ç¶šï¼‰',
        startDate: new Date('2025-04-24T10:00:00'),
        endDate: null,
        isOngoing: true,
        condition: 'Amazonã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€‚æ‹›å¾…ãƒªã‚¯ã‚¨ã‚¹ãƒˆæœ‰åŠ¹æœŸé–“3ãƒ¶æœˆã€‚æ‹›å¾…ã‚­ãƒ£ãƒ³ã‚»ãƒ«å¾Œã¯åŒå•†å“å†æ³¨æ–‡ä¸å¯',
        result: 'éšæ™‚æ‹›å¾…ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ï¼ˆ6/3ã«ã‚‚é€ä¿¡å®Ÿç¸¾ï¼‰',
        resultDate: null,
        deadline: 'æ‹›å¾…ãƒ¡ãƒ¼ãƒ«å—ä¿¡å¾Œ72æ™‚é–“ä»¥å†…',
        purchaseDate: null
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'ãƒã‚¸ãƒ',
        storeType: 'é–¢æ±ãƒ»æ±æµ·åœ°æ–¹ æ‹›å¾…åˆ¶',
        link: 'https://www.nojima.co.jp/',
        period: '4/24ã€œï¼ˆæ‹›å¾…åˆ¶ç¶™ç¶šï¼‰',
        startDate: new Date('2025-04-24T10:00:00'),
        endDate: null,
        isOngoing: true,
        condition: 'ãƒã‚¸ãƒã‚¢ãƒ—ãƒªã«ã€Œå°‚ç”¨ã®ç”³ã—è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ ã€ãŒè¡¨ç¤ºã•ã‚ŒãŸãŠå®¢æ§˜ã®ã¿å¯¾è±¡ã€‚æ‹›å¾…åˆ¶è²©å£²ãŠã‚ˆã³ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆè²©å£²',
        result: 'éšæ™‚æ‹›å¾…ãƒ»æŠ½é¸å®Ÿæ–½',
        resultDate: null,
        deadline: 'é€šçŸ¥å¾Œæ¡ˆå†…',
        purchaseDate: null
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'XPRICEæœ¬åº—',
        storeType: 'å®¶é›»EC',
        link: 'https://xprice.co.jp/',
        period: '6/10 12:00ã€œ6/16 23:59',
        startDate: new Date('2025-06-10T12:00:00'),
        endDate: new Date('2025-06-16T23:59:00'),
        condition: 'XPRICEä¼šå“¡ç™»éŒ²ï¼‹2024/6/1ã€œ2025/6/16æœŸé–“ä¸­ã«1å›ä»¥ä¸Šã®æ³¨æ–‡å±¥æ­´ï¼ˆè³¼å…¥é‡‘é¡åˆ¶é™ãªã—ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒ»è¿”å“é™¤ãï¼‰',
        result: '6/25ï¼ˆæ°´ï¼‰12:00ä»¥é™é †æ¬¡',
        resultDate: new Date('2025-06-25T12:00:00'),
        deadline: '6/28ã€œ6/30è³¼å…¥æœŸé–“',
        purchaseDate: new Date('2025-06-30T23:59:00')
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'AT FIELD',
        storeType: 'ã‚¢ãƒ‹ãƒ¡ã‚°ãƒƒã‚ºå°‚é–€åº— ç¬¬3å›',
        link: 'https://at-field.net/',
        period: '6/6 12:00ã€œ6/8 23:59',
        startDate: new Date('2025-06-06T12:00:00'),
        endDate: new Date('2025-06-08T23:59:00'),
        condition: 'ç¬¬1å›ãƒ»ç¬¬2å›å½“é¸è€…ã¯ç„¡åŠ¹ã€‚è¤‡æ•°ç”³ã—è¾¼ã¿ã¯å…¨ã¦ç„¡åŠ¹ã€‚è»¢å£²ç›®çš„ã¨åˆ¤æ–­ã•ã‚ŒãŸå ´åˆã‚‚ç„¡åŠ¹',
        result: '6/10ï¼ˆæœˆï¼‰11:00ç™ºè¡¨',
        resultDate: new Date('2025-06-10T11:00:00'),
        deadline: '6/12ã€œæ”¯æ‰•ç¢ºèªå¾Œæ¡ˆå†…',
        purchaseDate: new Date('2025-06-15T23:59:00')
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'ãƒ¤ãƒãƒ€ãƒ‡ãƒ³ã‚­',
        storeType: 'å®¶é›»é‡è²©åº— ç¬¬2å›',
        link: 'https://www.yamada-denki.jp/',
        period: '5/29 22:00ã€œ6/1 23:59',
        startDate: new Date('2025-05-29T22:00:00'),
        endDate: new Date('2025-06-01T23:59:00'),
        condition: '2025å¹´4æœˆæœ«æ—¥ã¾ã§ã«ãƒ¤ãƒãƒ€ãƒ‡ã‚¸ã‚¿ãƒ«ä¼šå“¡ã‚¢ãƒ—ãƒªæœ¬ç™»éŒ²å®Œäº†ï¼‹2024/5/1ã€œ2025/6/1æœŸé–“å†…ã®åº—èˆ—ã¾ãŸã¯ã‚¦ã‚§ãƒ–ã‚³ãƒ è³¼å…¥å®Ÿç¸¾ï¼‹æŠ½é¸ç™»éŒ²æ™‚æŒ‡å®šåº—èˆ—å—å–äº†æ‰¿',
        result: 'ç¬¬1å›ï¼š6/13ï¼ˆé‡‘ï¼‰18:00ã€œ6/15ï¼ˆæ—¥ï¼‰<br>ç¬¬2å›ï¼š6/20ï¼ˆé‡‘ï¼‰18:00ã€œ6/22ï¼ˆæ—¥ï¼‰<br>ç¬¬3å›ï¼š6/27ï¼ˆé‡‘ï¼‰18:00ã€œ6/29ï¼ˆæ—¥ï¼‰',
        resultDate: new Date('2025-06-13T18:00:00'),
        deadline: '6/13ã€œ7/25ï¼ˆ3å›ãƒãƒ£ãƒ³ã‚¹åˆ¶ï¼‰',
        purchaseDate: new Date('2025-07-25T23:59:00')
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'ã‚¤ã‚ªãƒ³',
        storeType: 'ç·åˆå°å£² ç¬¬2å›',
        link: 'https://www.aeon.com/',
        period: 'ç¬¬2å›å—ä»˜çµ‚äº†',
        startDate: new Date('2025-05-15T10:00:00'),
        endDate: new Date('2025-06-05T23:59:00'),
        condition: 'ã‚¤ã‚ªãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§å¿œå‹Ÿã€‚ã‚¤ã‚ªãƒ³ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã§ã®æ±ºæ¸ˆå¿…é ˆ',
        result: '6/11ï¼ˆæ°´ï¼‰12:00ä»¥é™äºˆå®š',
        resultDate: new Date('2025-06-11T12:00:00'),
        deadline: 'å½“é¸é€šçŸ¥å¾Œæ¡ˆå†…',
        purchaseDate: new Date('2025-06-20T23:59:00')
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'ãƒ•ã‚¡ãƒŸãƒã‚ªãƒ³ãƒ©ã‚¤ãƒ³',
        storeType: 'ã‚³ãƒ³ãƒ“ãƒ‹ç³»EC ç¬¬2å›',
        link: 'https://www.family.co.jp/',
        period: '6/3 10:00ã€œ6/5 23:59',
        startDate: new Date('2025-06-03T10:00:00'),
        endDate: new Date('2025-06-05T23:59:00'),
        condition: '2025å¹´6æœˆ2æ—¥æ™‚ç‚¹ã§ãƒ•ã‚¡ãƒŸãƒã‚¢ãƒ—ãƒªã€Œãƒ•ã‚¡ãƒŸãƒšã‚¤ã€ä¼šå“¡ã§ã‚ã‚‹ã“ã¨',
        result: '6/11ï¼ˆæ°´ï¼‰',
        resultDate: new Date('2025-06-11T12:00:00'),
        deadline: '6/19ï¼ˆæœ¨ï¼‰10:00ã€œå—å–é–‹å§‹',
        purchaseDate: new Date('2025-06-19T10:00:00')
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'MrMax',
        storeType: 'ãƒ‡ã‚£ã‚¹ã‚«ã‚¦ãƒ³ãƒˆã‚¹ãƒˆã‚¢',
        link: 'https://www.mrmax.co.jp/',
        period: '6/5ã€œ6/8 23:59',
        startDate: new Date('2025-05-20T10:00:00'),
        endDate: new Date('2025-06-08T23:59:00'),
        condition: '2024/3/1ã€œ2025/4/13æœŸé–“ã«ã‚¢ãƒ—ãƒªä¼šå“¡è¨¼ã‚’ãƒ¬ã‚¸æç¤ºã—ã¦è²·ã„ç‰©ã¾ãŸã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ãƒˆã‚¢è³¼å…¥ã€‚PUSHé€šçŸ¥å—å–è¨­å®šã€Œè¨±å¯ã€ã€‚å½“é¸è€…æœ¬äººãŒåº—é ­ã§å¼•ãå–ã‚Š',
        result: '6/4ï¼ˆæ°´ï¼‰12:00é ƒç™ºè¡¨æ¸ˆã¿',
        resultDate: new Date('2025-06-04T12:00:00'),
        deadline: '6/5ã€œ6/22ï¼ˆæ—¥ï¼‰',
        purchaseDate: new Date('2025-06-22T23:59:00')
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'TSUTAYA',
        storeType: 'ã‚¨ãƒ³ã‚¿ãƒ¡åº—',
        link: 'https://tsutaya.tsite.jp/',
        period: '5/16 10:00ã€œ5/22 23:59',
        startDate: new Date('2025-05-16T10:00:00'),
        endDate: new Date('2025-05-22T23:59:00'),
        condition: 'TSUTAYAã‚¢ãƒ—ãƒªã¸ã®ãƒ­ã‚°ã‚¤ãƒ³ã¨ãƒ¢ãƒã‚¤ãƒ«Vã‚«ãƒ¼ãƒ‰ã®åˆ©ç”¨ç™»éŒ²ãŒå¿…è¦ã€‚ãŠä¸€äººæ§˜ã„ãšã‚Œã‹1ç¨®ã‚’1å›ã®ã¿å¿œå‹Ÿå¯èƒ½ã€‚ç¬¬1å›å½“é¸è€…ã¯å¯¾è±¡å¤–',
        result: '6/6ã€œ6/7 17:00ç™ºè¡¨æ¸ˆã¿',
        resultDate: new Date('2025-06-06T17:00:00'),
        deadline: '6/14ï¼ˆåœŸï¼‰é–‹åº—ã€œ6/15ï¼ˆæ—¥ï¼‰é–‰åº—',
        purchaseDate: new Date('2025-06-15T20:00:00')
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'ã‚¸ãƒ§ãƒ¼ã‚·ãƒ³',
        storeType: 'å®¶é›»é‡è²©åº— ç¬¬3å›ã‚¦ã‚§ãƒ–æŠ½é¸',
        link: 'https://joshin.co.jp/',
        period: '6/3 11:00ã€œ6/6 10:59ï¼ˆå—ä»˜çµ‚äº†ï¼‰',
        startDate: new Date('2025-06-03T11:00:00'),
        endDate: new Date('2025-06-06T10:59:00'),
        condition: 'ã‚¸ãƒ§ãƒ¼ã‚·ãƒ³webãƒ¡ãƒ³ãƒãƒ¼ã‚ºä¼šå“¡ï¼‹éå»1å¹´é–“ã«ã‚¸ãƒ§ãƒ¼ã‚·ãƒ³ã§ã®è³¼å…¥å®Ÿç¸¾',
        result: '6/6ï¼ˆæœ¨ï¼‰ç™ºè¡¨æ¸ˆã¿',
        resultDate: new Date('2025-06-06T12:00:00'),
        deadline: '6/14ï¼ˆé‡‘ï¼‰ã‚ˆã‚Šè²©å£²é–‹å§‹',
        purchaseDate: new Date('2025-06-20T23:59:00')
      },
      {
        section: 'ğŸŒ å…¨å›½ç‰ˆ æŠ½é¸è²©å£²',
        store: 'ãƒ“ãƒƒã‚¯ã‚«ãƒ¡ãƒ©',
        storeType: 'å®¶é›»é‡è²©åº— ç¬¬3å›åº—èˆ—æŠ½é¸',
        link: 'https://www.biccamera.com/',
        period: 'ç¬¬3å›åº—èˆ—æŠ½é¸ï¼ˆå—ä»˜çµ‚äº†ï¼‰',
        startDate: new Date('2025-05-20T10:00:00'),
        endDate: new Date('2025-06-05T23:59:00'),
        condition: 'å…¬å¼ã‚¢ãƒ—ãƒªç™»éŒ²ï¼‹ãƒã‚¤ãƒ³ãƒˆã‚«ãƒ¼ãƒ‰ç™»éŒ²ï¼‹2023/4/1ã€œ2025/3/31ã«åˆè¨ˆ5,000å††ä»¥ä¸Šè³¼å…¥å±¥æ­´ï¼ˆæ¡ä»¶ç·©å’Œï¼‰',
        result: '6/13ï¼ˆæœ¨ï¼‰ã‚ˆã‚Šé †æ¬¡ç™ºè¡¨',
        resultDate: new Date('2025-06-13T12:00:00'),
        deadline: 'å½“é¸é€šçŸ¥å¾Œæ¡ˆå†…',
        purchaseDate: new Date('2025-06-25T23:59:00')
      },
      // åœ°åŸŸé™å®šç‰ˆ
      {
        section: 'ğŸ“ åœ°åŸŸé™å®š æŠ½é¸è²©å£²',
        store: 'å¹³å’Œå ‚',
        storeType: 'è¿‘ç•¿ãƒ»åŒ—é™¸ãƒ»æ±æµ·',
        link: 'https://www.heiwado.jp/',
        period: '5/8åˆå‰ã€œ5/11 23:59ï¼ˆå—ä»˜çµ‚äº†ï¼‰',
        startDate: new Date('2025-05-08T09:00:00'),
        endDate: new Date('2025-05-11T23:59:00'),
        condition: '2025/1/1ã€œ2025/3/31æœŸé–“ä¸­ã«HOPã‚«ãƒ¼ãƒ‰ã¾ãŸã¯HOPã‚¢ãƒ—ãƒªä¼šå“¡è¨¼ã‚’æç¤ºã—ã¦è²·ã„ç‰©å±¥æ­´ï¼‹2025/5/4æ™‚ç‚¹ã§HOPã‚¢ãƒ—ãƒªä¼šå“¡ç™»éŒ²æ¸ˆã¿',
        result: '5/29ç™ºè¡¨æ¸ˆã¿',
        resultDate: new Date('2025-05-29T12:00:00'),
        deadline: '6/5ã€œ6/8å®Œäº†äºˆå®š',
        purchaseDate: new Date('2025-06-08T20:00:00')
      },
      {
        section: 'ğŸ“ åœ°åŸŸé™å®š æŠ½é¸è²©å£²',
        store: 'ä¸‰æ´‹å ‚æ›¸åº—',
        storeType: 'æ›¸åº—ãƒã‚§ãƒ¼ãƒ³ï¼ˆå²é˜œçœŒç­‰ï¼‰ç¬¬1å›',
        link: 'https://www.sanyodo.ne.jp/',
        period: 'ç¬¬1å›ï¼š4/24ã€œ5/18ï¼ˆå—ä»˜çµ‚äº†ï¼‰',
        startDate: new Date('2025-04-24T10:00:00'),
        endDate: new Date('2025-05-18T23:59:00'),
        condition: 'ä¸‰æ´‹å ‚ã‚µã‚¤ãƒˆä¼šå“¡ï¼‹2025å¹´6æœˆ1æ—¥ã¾ã§ã®1å¹´é–“ã«ã‚«ãƒ¼ãƒ‰ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³ã§ã®è³¼å…¥ãƒ»ãƒ¬ãƒ³ã‚¿ãƒ«å®Ÿç¸¾ã€‚1äºº1å›ãƒ»1åº—èˆ—é™ã‚Š',
        result: '5/26ç™ºè¡¨æ¸ˆã¿',
        resultDate: new Date('2025-05-26T12:00:00'),
        deadline: '6/5ã€œ6/8æœ‰äººå–¶æ¥­æ™‚é–“ä¸­',
        purchaseDate: new Date('2025-06-08T18:00:00')
      },
      {
        section: 'ğŸ“ åœ°åŸŸé™å®š æŠ½é¸è²©å£²',
        store: 'WonderGOO',
        storeType: 'æ±æµ·åœ°æ–¹ã‚¨ãƒ³ã‚¿ãƒ¡åº— ç¬¬1å›',
        link: 'https://www.wondergoo.com/',
        period: 'ç¬¬1å›ï¼š4/24 10:00ã€œ5/6 17:00ï¼ˆå—ä»˜çµ‚äº†ï¼‰',
        startDate: new Date('2025-04-24T10:00:00'),
        endDate: new Date('2025-05-06T17:00:00'),
        condition: 'å¿œå‹ŸæœŸé–“å†…å…¬é–‹ã®å¿œå‹Ÿãƒ•ã‚©ãƒ¼ãƒ ã‚ˆã‚Šå¿œå‹Ÿã€‚1ä¸–å¸¯å…¨åº—ã§å¯¾è±¡å•†å“1ç‚¹ãƒ»1å›é™ã‚Š',
        result: '5/24ç™ºè¡¨æ¸ˆã¿',
        resultDate: new Date('2025-05-24T12:00:00'),
        deadline: '6/5ã€œ6/8å®Œäº†äºˆå®š',
        purchaseDate: new Date('2025-06-08T20:00:00')
      },
      {
        section: 'ğŸ“ åœ°åŸŸé™å®š æŠ½é¸è²©å£²',
        store: 'ä¸‰æ´‹å ‚æ›¸åº—',
        storeType: 'æ›¸åº—ãƒã‚§ãƒ¼ãƒ³ï¼ˆå²é˜œçœŒç­‰ï¼‰ç¬¬2å›',
        link: 'https://www.sanyodo.ne.jp/',
        period: 'ç¬¬2å›ï¼š5/27ã€œ6/1ï¼ˆå—ä»˜çµ‚äº†ï¼‰',
        startDate: new Date('2025-05-27T10:00:00'),
        endDate: new Date('2025-06-01T23:59:00'),
        condition: 'ä¸‰æ´‹å ‚ã‚µã‚¤ãƒˆä¼šå“¡ï¼‹2025å¹´6æœˆ1æ—¥ã¾ã§ã®1å¹´é–“ã«ã‚«ãƒ¼ãƒ‰ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³ã§ã®è³¼å…¥ãƒ»ãƒ¬ãƒ³ã‚¿ãƒ«å®Ÿç¸¾ã€‚1äºº1å›ãƒ»1åº—èˆ—é™ã‚Š',
        result: '6/11ï¼ˆæ°´ï¼‰å½“é¸è€…ã®ã¿ãƒ¡ãƒ¼ãƒ«',
        resultDate: new Date('2025-06-11T12:00:00'),
        deadline: '6/14ï¼ˆåœŸï¼‰ã€œ6/15ï¼ˆæ—¥ï¼‰æœ‰äººå–¶æ¥­æ™‚é–“ä¸­',
        purchaseDate: new Date('2025-06-15T18:00:00')
      },
      {
        section: 'ğŸ“ åœ°åŸŸé™å®š æŠ½é¸è²©å£²',
        store: 'WonderGOO',
        storeType: 'æ±æµ·åœ°æ–¹ã‚¨ãƒ³ã‚¿ãƒ¡åº— ç¬¬2å›',
        link: 'https://www.wondergoo.com/',
        period: 'ç¬¬2å›ï¼š5/27 10:00ã€œ6/1 17:00ï¼ˆå—ä»˜çµ‚äº†ï¼‰',
        startDate: new Date('2025-05-27T10:00:00'),
        endDate: new Date('2025-06-01T17:00:00'),
        condition: 'å¿œå‹ŸæœŸé–“å†…å…¬é–‹ã®å¿œå‹Ÿãƒ•ã‚©ãƒ¼ãƒ ã‚ˆã‚Šå¿œå‹Ÿã€‚1ä¸–å¸¯å…¨åº—ã§å¯¾è±¡å•†å“1ç‚¹ãƒ»1å›é™ã‚Š',
        result: '6/12ï¼ˆæœ¨ï¼‰ã¾ã§ã«ãƒ¡ãƒ¼ãƒ«ãƒ»é›»è©±é€šçŸ¥ï¼ˆå½“é¸è€…ã®ã¿ï¼‰',
        resultDate: new Date('2025-06-12T12:00:00'),
        deadline: '6/14ï¼ˆåœŸï¼‰ã€œ6/16ï¼ˆæœˆï¼‰',
        purchaseDate: new Date('2025-06-16T20:00:00')
      }
    ];

    let currentSortMode = 'priority';
    let currentSortDirection = 'asc';
    let currentFilter = 'all';

    // æ¤œç´¢æ©Ÿèƒ½
    const searchInput = document.getElementById('searchInput');
    const tableBody = document.getElementById('tableBody');
    const noResults = document.getElementById('noResults');

    searchInput.addEventListener('input', function() {
      applyFiltersAndSort();
    });

    // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½
    function filterRows(status) {
      currentFilter = status;
      const buttons = document.querySelectorAll('.filter-btn');
      
      // ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã‚’æ›´æ–°
      buttons.forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      applyFiltersAndSort();
    }

    // ã‚«ãƒ©ãƒ ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½
    function sortByColumn(column) {
      // ç¾åœ¨ã®ã‚½ãƒ¼ãƒˆã‚«ãƒ©ãƒ ã¨åŒã˜å ´åˆã¯æ–¹å‘ã‚’åˆ‡ã‚Šæ›¿ãˆ
      if (currentSortMode === column) {
        currentSortDirection = currentSortDirection === 'asc' ? 'desc' : 'asc';
      } else {
        currentSortMode = column;
        currentSortDirection = 'asc';
      }
      
      updateSortHeaders();
      applyFiltersAndSort();
    }

    // ã‚½ãƒ¼ãƒˆãƒ˜ãƒƒãƒ€ãƒ¼ã®æ›´æ–°
    function updateSortHeaders() {
      const headers = document.querySelectorAll('th.sortable');
      headers.forEach(header => {
        header.classList.remove('sort-asc', 'sort-desc');
        if (header.dataset.sort === currentSortMode) {
          header.classList.add(currentSortDirection === 'asc' ? 'sort-asc' : 'sort-desc');
        }
      });
    }

    // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã«é–¢æ•°ã‚’å…¬é–‹
    window.filterRows = filterRows;
    window.sortByColumn = sortByColumn;

    // ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã¨ã‚½ãƒ¼ãƒˆã‚’é©ç”¨
    function applyFiltersAndSort() {
      const searchTerm = searchInput.value.toLowerCase();
      let filteredData = storeData.filter(item => {
        // æ¤œç´¢æ¡ä»¶ã‚’ãƒã‚§ãƒƒã‚¯
        const matchesSearch = item.store.toLowerCase().includes(searchTerm);
        
        // å‹•çš„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨ˆç®—
        item.status = calculateStatus(item);
        
        // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ¡ä»¶ã‚’ãƒã‚§ãƒƒã‚¯
        const matchesFilter = currentFilter === 'all' || item.status === currentFilter;
        
        return matchesSearch && matchesFilter;
      });

      // å„ªå…ˆåº¦ä»˜ãã‚½ãƒ¼ãƒˆå‡¦ç†
      if (currentSortMode === 'deadline') {
        filteredData.sort((a, b) => {
          // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å„ªå…ˆåº¦ã‚’å®šç¾©
          const statusPriority = {
            'active': 1,      // å—ä»˜ä¸­ï¼ˆæœ€å„ªå…ˆï¼‰
            'ongoing': 2,     // å®Ÿæ–½ä¸­
            'upcoming': 3,    // é–‹å§‹äºˆå®š
            'waiting': 4,     // ç™ºè¡¨å¾…ã¡
            'purchase': 5,    // è³¼å…¥æœŸé–“ä¸­
            'ended': 6        // çµ‚äº†æ¸ˆã¿
          };
          
          const priorityA = statusPriority[a.status] || 7;
          const priorityB = statusPriority[b.status] || 7;
          
          // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å„ªå…ˆåº¦ãŒç•°ãªã‚‹å ´åˆã¯å„ªå…ˆåº¦é †
          if (priorityA !== priorityB) {
            return priorityA - priorityB;
          }
          
          // åŒã˜ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å†…ã§ã®è©³ç´°ã‚½ãƒ¼ãƒˆ
          if (a.status === 'active' && b.status === 'active') {
            // å—ä»˜ä¸­ã®å ´åˆï¼šç· åˆ‡ãŒè¿‘ã„é †ï¼ˆæ®‹ã‚Šæ™‚é–“ãŒå°‘ãªã„é †ï¼‰
            if (!a.endDate && !b.endDate) return 0;
            if (!a.endDate) return 1;
            if (!b.endDate) return -1;
            return a.endDate.getTime() - b.endDate.getTime();
          } else if (a.status === 'upcoming' && b.status === 'upcoming') {
            // é–‹å§‹äºˆå®šã®å ´åˆï¼šé–‹å§‹ãŒè¿‘ã„é †
            if (!a.startDate && !b.startDate) return 0;
            if (!a.startDate) return 1;
            if (!b.startDate) return -1;
            return a.startDate.getTime() - b.startDate.getTime();
          } else if (a.status === 'waiting' && b.status === 'waiting') {
            // ç™ºè¡¨å¾…ã¡ã®å ´åˆï¼šçµæœç™ºè¡¨ãŒè¿‘ã„é †
            if (!a.resultDate && !b.resultDate) return 0;
            if (!a.resultDate) return 1;
            if (!b.resultDate) return -1;
            return a.resultDate.getTime() - b.resultDate.getTime();
          } else if (a.status === 'purchase' && b.status === 'purchase') {
            // è³¼å…¥æœŸé–“ä¸­ã®å ´åˆï¼šè³¼å…¥æœŸé™ãŒè¿‘ã„é †
            if (!a.purchaseDate && !b.purchaseDate) return 0;
            if (!a.purchaseDate) return 1;
            if (!b.purchaseDate) return -1;
            return a.purchaseDate.getTime() - b.purchaseDate.getTime();
          } else if (a.status === 'ended' && b.status === 'ended') {
            // çµ‚äº†æ¸ˆã¿ã®å ´åˆï¼šçµ‚äº†ãŒæ–°ã—ã„é †
            if (!a.purchaseDate && !b.purchaseDate) {
              if (!a.endDate && !b.endDate) return 0;
              if (!a.endDate) return 1;
              if (!b.endDate) return -1;
              return b.endDate.getTime() - a.endDate.getTime();
            }
            if (!a.purchaseDate) return 1;
            if (!b.purchaseDate) return -1;
            return b.purchaseDate.getTime() - a.purchaseDate.getTime();
          }
          
          return 0;
        });
      } else if (currentSortMode === 'result') {
        filteredData.sort((a, b) => {
          if (!a.resultDate && !b.resultDate) return 0;
          if (!a.resultDate) return 1;
          if (!b.resultDate) return -1;
          
          const diff = a.resultDate.getTime() - b.resultDate.getTime();
          return currentSortDirection === 'asc' ? diff : -diff;
        });
      } else if (currentSortMode === 'purchase') {
        filteredData.sort((a, b) => {
          if (!a.purchaseDate && !b.purchaseDate) return 0;
          if (!a.purchaseDate) return 1;
          if (!b.purchaseDate) return -1;
          
          const diff = a.purchaseDate.getTime() - b.purchaseDate.getTime();
          return currentSortDirection === 'asc' ? diff : -diff;
        });
      } else {
        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚½ãƒ¼ãƒˆï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å„ªå…ˆåº¦é †ï¼‰
        filteredData.sort((a, b) => {
          const statusPriority = {
            'active': 1,
            'ongoing': 2,
            'upcoming': 3,
            'waiting': 4,
            'purchase': 5,
            'ended': 6
          };
          
          const priorityA = statusPriority[a.status] || 7;
          const priorityB = statusPriority[b.status] || 7;
          
          if (priorityA !== priorityB) {
            return priorityA - priorityB;
          }
          
          // åŒã˜ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å†…ã§ã¯ç· åˆ‡ãŒè¿‘ã„é †
          if (a.endDate && b.endDate) {
            return a.endDate.getTime() - b.endDate.getTime();
          }
          
          return 0;
        });
      }

      renderTable(filteredData);
      updateStats(filteredData);
    }

    // ãƒ†ãƒ¼ãƒ–ãƒ«ã®æç”»
    function renderTable(data) {
      let html = '';
      let currentSection = '';

      data.forEach(item => {
        // å‹•çš„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨ˆç®—
        item.status = calculateStatus(item);
        
        // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’å‹•çš„ã«ç”Ÿæˆï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã”ã¨ï¼‰
        let sectionTitle = '';
        switch(item.status) {
          case 'active':
            sectionTitle = 'ğŸ”¥ å—ä»˜ä¸­ï¼ˆç·Šæ€¥åº¦é †ï¼‰';
            break;
          case 'ongoing':
            sectionTitle = 'âš¡ å®Ÿæ–½ä¸­ãƒ»æ‹›å¾…åˆ¶';
            break;
          case 'upcoming':
            sectionTitle = 'ğŸ“… é–‹å§‹äºˆå®š';
            break;
          case 'waiting':
            sectionTitle = 'â³ ç™ºè¡¨å¾…ã¡';
            break;
          case 'purchase':
            sectionTitle = 'ğŸ’° è³¼å…¥æœŸé–“ä¸­';
            break;
          case 'ended':
            sectionTitle = 'âœ… çµ‚äº†æ¸ˆã¿';
            break;
          default:
            sectionTitle = item.section;
        }
        
        if (sectionTitle !== currentSection) {
          currentSection = sectionTitle;
          html += `
            <tr class="section-header">
              <td colspan="7" style="padding: 8px 16px; font-weight: 600; color: #495057; font-size: 13px; border-top: 2px solid #dee2e6; border-bottom: 1px solid #dee2e6;">
                <strong>${sectionTitle}</strong>
              </td>
            </tr>
          `;
        }

        // ç·Šæ€¥åº¦ã‚¯ãƒ©ã‚¹ã®æ±ºå®š
        let urgencyClass = '';
        if (item.endDate && item.status === 'active') {
          const now = new Date();
          const timeDiff = item.endDate.getTime() - now.getTime();
          const hoursDiff = timeDiff / (1000 * 60 * 60);
          
          if (hoursDiff <= 6 && hoursDiff > 0) {
            urgencyClass = 'very-urgent';
          } else if (hoursDiff <= 24 && hoursDiff > 0) {
            urgencyClass = 'urgent';
          } else if (timeDiff <= 0) {
            urgencyClass = 'today-ending';
          }
        }

        html += `
          <tr data-status="${item.status}" class="${urgencyClass}" data-store="${item.store}">
            <td>
              <div class="store-name">${item.store}</div>
              <div class="store-type">${item.storeType}</div>
            </td>
            <td><span class="status status-${item.status}">${getStatusText(item.status)}</span></td>
            <td><a href="${item.link}" target="_blank" class="link-btn">${getButtonText(item.status)}</a></td>
            <td>
              <div class="period">${item.period}</div>
              ${item.endDate && item.status === 'active' ? `<div class="countdown" id="${item.countdownId || ''}">æ®‹ã‚Šæ™‚é–“ã‚’è¨ˆç®—ä¸­...</div>` : ''}
            </td>
            <td><div class="condition">${item.condition}</div></td>
            <td><div class="result">${item.result}</div></td>
            <td><div class="deadline">${item.deadline}</div></td>
          </tr>
        `;
      });

      tableBody.innerHTML = html;

      // ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ã®æ›´æ–°
      updateCountdowns();

      // æ¤œç´¢çµæœãŒãªã„å ´åˆã®è¡¨ç¤º
      if (data.length === 0) {
        noResults.classList.remove('hidden');
      } else {
        noResults.classList.add('hidden');
      }
    }

    // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ†ã‚­ã‚¹ãƒˆã®å–å¾—
    function getStatusText(status) {
      const statusMap = {
        'active': 'å—ä»˜ä¸­',
        'upcoming': 'é–‹å§‹äºˆå®š',
        'ongoing': 'å®Ÿæ–½ä¸­',
        'waiting': 'ç™ºè¡¨å¾…ã¡',
        'purchase': 'è³¼å…¥æœŸé–“ä¸­',
        'ended': 'çµ‚äº†æ¸ˆã¿'
      };
      return statusMap[status] || status;
    }

    // ãƒœã‚¿ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®å–å¾—
    function getButtonText(status) {
      const buttonMap = {
        'active': 'å¿œå‹Ÿãƒªãƒ³ã‚¯',
        'upcoming': 'ç¢ºèªãƒªãƒ³ã‚¯',
        'ongoing': 'ç¢ºèªãƒªãƒ³ã‚¯',
        'waiting': 'ç¢ºèªãƒªãƒ³ã‚¯',
        'purchase': 'ç¢ºèªãƒªãƒ³ã‚¯',
        'ended': 'ç¢ºèªãƒªãƒ³ã‚¯'
      };
      return buttonMap[status] || 'ç¢ºèªãƒªãƒ³ã‚¯';
    }

    // çµ±è¨ˆã®æ›´æ–°
    function updateStats(data = storeData) {
      const stats = {
        active: 0,
        upcoming: 0,
        ongoing: 0,
        waiting: 0,
        purchase: 0,
        ended: 0
      };

      data.forEach(item => {
        // å‹•çš„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨ˆç®—
        const status = calculateStatus(item);
        if (stats.hasOwnProperty(status)) {
          stats[status]++;
        }
      });

      Object.keys(stats).forEach(key => {
        const element = document.getElementById(`stat-${key}`);
        if (element) {
          element.textContent = stats[key];
        }
      });
    }

    // ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³æ©Ÿèƒ½
    function updateCountdowns() {
      const countdowns = [
        { id: 'countdown-1', end: new Date('2025-06-11T11:00:00') },
        { id: 'countdown-2', end: new Date('2025-06-11T15:00:00') },
        { id: 'countdown-3', end: new Date('2025-06-09T10:59:00') },
        { id: 'countdown-5', end: new Date('2025-06-09T17:59:00') },
        { id: 'countdown-6', end: new Date('2025-06-09T23:59:00') },
        { id: 'countdown-7', end: new Date('2025-06-09T11:59:00') }
      ];

      countdowns.forEach(countdown => {
        const element = document.getElementById(countdown.id);
        if (!element) return;

        const now = new Date();
        const diff = countdown.end - now;

        if (diff <= 0) {
          element.textContent = 'å—ä»˜çµ‚äº†';
          element.style.color = '#6c757d';
          element.classList.remove('very-urgent');
          return;
        }

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));

        let timeString = '';
        if (days > 0) timeString += `${days}æ—¥ `;
        if (hours > 0) timeString += `${hours}æ™‚é–“ `;
        timeString += `${minutes}åˆ†`;

        element.textContent = `æ®‹ã‚Š ${timeString}`;

        // 6æ™‚é–“ä»¥å†…ã®å ´åˆã¯ç‰¹åˆ¥ãªã‚¹ã‚¿ã‚¤ãƒ«
        if (diff <= 6 * 60 * 60 * 1000) {
          element.classList.add('very-urgent');
        }
      });
    }

    // åˆæœŸåŒ–
    updateSortHeaders();
    applyFiltersAndSort();
    setInterval(updateCountdowns, 60000); // 1åˆ†ã”ã¨ã«æ›´æ–°
  </script>
</body>
</html>
